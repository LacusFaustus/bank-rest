2025-10-18T12:47:24.722+03:00  INFO 8424 --- [bank-rest] [main] com.bank.BankApplication                 : Starting BankApplication using Java 23.0.2 with PID 8424 (C:\projects\bank-rest\target\classes started by User in C:\projects\bank-rest)
2025-10-18T12:47:24.723+03:00 DEBUG 8424 --- [bank-rest] [main] com.bank.BankApplication                 : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-18T12:47:24.723+03:00  INFO 8424 --- [bank-rest] [main] com.bank.BankApplication                 : The following 1 profile is active: "local"
2025-10-18T12:47:25.294+03:00  INFO 8424 --- [bank-rest] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-18T12:47:25.333+03:00  INFO 8424 --- [bank-rest] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 4 JPA repository interfaces.
2025-10-18T12:47:25.924+03:00  INFO 8424 --- [bank-rest] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-18T12:47:25.930+03:00  INFO 8424 --- [bank-rest] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-18T12:47:25.931+03:00  INFO 8424 --- [bank-rest] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-18T12:47:25.973+03:00  INFO 8424 --- [bank-rest] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-18T12:47:25.973+03:00  INFO 8424 --- [bank-rest] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1220 ms
2025-10-18T12:47:26.083+03:00  INFO 8424 --- [bank-rest] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-18T12:47:26.236+03:00  INFO 8424 --- [bank-rest] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:bankdb user=SA
2025-10-18T12:47:26.238+03:00  INFO 8424 --- [bank-rest] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-18T12:47:26.247+03:00  INFO 8424 --- [bank-rest] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:bankdb'
2025-10-18T12:47:26.452+03:00  INFO 8424 --- [bank-rest] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-18T12:47:26.515+03:00  INFO 8424 --- [bank-rest] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-18T12:47:26.543+03:00  INFO 8424 --- [bank-rest] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-18T12:47:26.689+03:00  INFO 8424 --- [bank-rest] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-18T12:47:26.716+03:00  WARN 8424 --- [bank-rest] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-18T12:47:27.209+03:00  INFO 8424 --- [bank-rest] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-18T12:47:27.216+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists audit_logs cascade 
2025-10-18T12:47:27.218+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists cards cascade 
2025-10-18T12:47:27.218+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists transactions cascade 
2025-10-18T12:47:27.218+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-10-18T12:47:27.221+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table audit_logs (
        success boolean not null,
        id bigint generated by default as identity,
        timestamp timestamp(6) not null,
        ip_address varchar(45),
        action_type varchar(50) not null,
        resource_id varchar(50),
        username varchar(100) not null,
        description varchar(500) not null,
        user_agent varchar(500),
        error_message varchar(1000),
        request_details varchar(1000),
        primary key (id)
    )
2025-10-18T12:47:27.225+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table cards (
        balance numeric(15,2) not null,
        block_requested boolean,
        expiry_date date not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        user_id bigint not null,
        status varchar(20) not null check (status in ('ACTIVE','BLOCKED','EXPIRED')),
        card_holder varchar(100) not null,
        card_number varchar(255) not null,
        primary key (id)
    )
2025-10-18T12:47:27.228+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table transactions (
        amount numeric(15,2) not null,
        from_card_id bigint,
        id bigint generated by default as identity,
        to_card_id bigint,
        transaction_date timestamp(6),
        status varchar(20) not null check (status in ('SUCCESS','FAILED','PENDING')),
        primary key (id)
    )
2025-10-18T12:47:27.229+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table users (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        role varchar(20) not null check (role in ('ROLE_USER','ROLE_ADMIN')),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2025-10-18T12:47:27.231+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists cards 
       add constraint FKcmanafgwbibfijy2o5isfk3d5 
       foreign key (user_id) 
       references users
2025-10-18T12:47:27.235+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists transactions 
       add constraint FK2rjf7q3aokek0bc3817l80p77 
       foreign key (from_card_id) 
       references cards
2025-10-18T12:47:27.235+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists transactions 
       add constraint FKrjipfg1tkqdhun7vvoe5m6rca 
       foreign key (to_card_id) 
       references cards
2025-10-18T12:47:27.238+03:00  INFO 8424 --- [bank-rest] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-18T12:47:27.453+03:00  INFO 8424 --- [bank-rest] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-18T12:47:27.927+03:00 DEBUG 8424 --- [bank-rest] [main] c.bank.security.JwtAuthenticationFilter  : Filter 'jwtAuthenticationFilter' configured for use
2025-10-18T12:47:28.430+03:00  WARN 8424 --- [bank-rest] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-18T12:47:28.737+03:00  INFO 8424 --- [bank-rest] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-18T12:47:28.774+03:00  INFO 8424 --- [bank-rest] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3d746c8f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27684bf, org.springframework.security.web.context.SecurityContextHolderFilter@5a5407c6, org.springframework.security.web.header.HeaderWriterFilter@3ca370ae, org.springframework.web.filter.CorsFilter@356feae3, org.springframework.security.web.authentication.logout.LogoutFilter@6150ed89, com.bank.security.JwtAuthenticationFilter@a41434b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f284a7a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@fc35694, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@302ae89a, org.springframework.security.web.session.SessionManagementFilter@2e8a3f87, org.springframework.security.web.access.ExceptionTranslationFilter@42dc92de, org.springframework.security.web.access.intercept.AuthorizationFilter@1c81f231]
2025-10-18T12:47:29.037+03:00  WARN 8424 --- [bank-rest] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-10-18T12:47:29.040+03:00  INFO 8424 --- [bank-rest] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-18T12:47:29.040+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists audit_logs cascade 
2025-10-18T12:47:29.042+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists cards cascade 
2025-10-18T12:47:29.042+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists transactions cascade 
2025-10-18T12:47:29.042+03:00 DEBUG 8424 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-10-18T12:47:29.044+03:00  INFO 8424 --- [bank-rest] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-18T12:47:29.045+03:00  INFO 8424 --- [bank-rest] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-18T12:47:29.055+03:00  INFO 8424 --- [bank-rest] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-10-18T12:47:29.065+03:00 ERROR 8424 --- [bank-rest] [main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-10-18T12:49:01.937+03:00  INFO 9508 --- [bank-rest] [main] com.bank.BankApplication                 : Starting BankApplication using Java 23.0.2 with PID 9508 (C:\projects\bank-rest\target\classes started by User in C:\projects\bank-rest)
2025-10-18T12:49:01.939+03:00 DEBUG 9508 --- [bank-rest] [main] com.bank.BankApplication                 : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-18T12:49:01.939+03:00  INFO 9508 --- [bank-rest] [main] com.bank.BankApplication                 : The following 1 profile is active: "local"
2025-10-18T12:49:02.507+03:00  INFO 9508 --- [bank-rest] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-18T12:49:02.549+03:00  INFO 9508 --- [bank-rest] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 4 JPA repository interfaces.
2025-10-18T12:49:03.152+03:00  INFO 9508 --- [bank-rest] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-18T12:49:03.158+03:00  INFO 9508 --- [bank-rest] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-18T12:49:03.158+03:00  INFO 9508 --- [bank-rest] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-18T12:49:03.204+03:00  INFO 9508 --- [bank-rest] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-18T12:49:03.204+03:00  INFO 9508 --- [bank-rest] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1235 ms
2025-10-18T12:49:03.314+03:00  INFO 9508 --- [bank-rest] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-18T12:49:03.466+03:00  INFO 9508 --- [bank-rest] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:bankdb user=SA
2025-10-18T12:49:03.468+03:00  INFO 9508 --- [bank-rest] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-18T12:49:03.475+03:00  INFO 9508 --- [bank-rest] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:bankdb'
2025-10-18T12:49:03.633+03:00  INFO 9508 --- [bank-rest] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-18T12:49:03.677+03:00  INFO 9508 --- [bank-rest] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-18T12:49:03.695+03:00  INFO 9508 --- [bank-rest] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-18T12:49:03.803+03:00  INFO 9508 --- [bank-rest] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-18T12:49:03.826+03:00  WARN 9508 --- [bank-rest] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-18T12:49:04.309+03:00  INFO 9508 --- [bank-rest] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-18T12:49:04.316+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists audit_logs cascade 
2025-10-18T12:49:04.319+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists cards cascade 
2025-10-18T12:49:04.319+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists transactions cascade 
2025-10-18T12:49:04.319+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-10-18T12:49:04.321+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table audit_logs (
        success boolean not null,
        id bigint generated by default as identity,
        timestamp timestamp(6) not null,
        ip_address varchar(45),
        action_type varchar(50) not null,
        resource_id varchar(50),
        username varchar(100) not null,
        description varchar(500) not null,
        user_agent varchar(500),
        error_message varchar(1000),
        request_details varchar(1000),
        primary key (id)
    )
2025-10-18T12:49:04.326+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table cards (
        balance numeric(15,2) not null,
        block_requested boolean,
        expiry_date date not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        user_id bigint not null,
        status varchar(20) not null check (status in ('ACTIVE','BLOCKED','EXPIRED')),
        card_holder varchar(100) not null,
        card_number varchar(255) not null,
        primary key (id)
    )
2025-10-18T12:49:04.328+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table transactions (
        amount numeric(15,2) not null,
        from_card_id bigint,
        id bigint generated by default as identity,
        to_card_id bigint,
        transaction_date timestamp(6),
        status varchar(20) not null check (status in ('SUCCESS','FAILED','PENDING')),
        primary key (id)
    )
2025-10-18T12:49:04.329+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table users (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        role varchar(20) not null check (role in ('ROLE_USER','ROLE_ADMIN')),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2025-10-18T12:49:04.330+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists cards 
       add constraint FKcmanafgwbibfijy2o5isfk3d5 
       foreign key (user_id) 
       references users
2025-10-18T12:49:04.334+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists transactions 
       add constraint FK2rjf7q3aokek0bc3817l80p77 
       foreign key (from_card_id) 
       references cards
2025-10-18T12:49:04.335+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists transactions 
       add constraint FKrjipfg1tkqdhun7vvoe5m6rca 
       foreign key (to_card_id) 
       references cards
2025-10-18T12:49:04.337+03:00  INFO 9508 --- [bank-rest] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-18T12:49:04.530+03:00  INFO 9508 --- [bank-rest] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-18T12:49:05.006+03:00 DEBUG 9508 --- [bank-rest] [main] c.bank.security.JwtAuthenticationFilter  : Filter 'jwtAuthenticationFilter' configured for use
2025-10-18T12:49:05.520+03:00  WARN 9508 --- [bank-rest] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-18T12:49:05.804+03:00  INFO 9508 --- [bank-rest] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-18T12:49:05.839+03:00  INFO 9508 --- [bank-rest] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@9eb378c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@506782f4, org.springframework.security.web.context.SecurityContextHolderFilter@6331b2d, org.springframework.security.web.header.HeaderWriterFilter@6818ccfe, org.springframework.web.filter.CorsFilter@49588fc8, org.springframework.security.web.authentication.logout.LogoutFilter@3afc5e83, com.bank.security.JwtAuthenticationFilter@a41434b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e2333ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@629a23da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ca941f6, org.springframework.security.web.session.SessionManagementFilter@ca0ccb6, org.springframework.security.web.access.ExceptionTranslationFilter@259c2915, org.springframework.security.web.access.intercept.AuthorizationFilter@47161ae4]
2025-10-18T12:49:06.111+03:00  INFO 9508 --- [bank-rest] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-10-18T12:49:06.112+03:00  INFO 9508 --- [bank-rest] [main] com.bank.BankApplication                 : Started BankApplication in 4.467 seconds (process running for 4.714)
2025-10-18T12:49:06.114+03:00  INFO 9508 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : Creating test users...
2025-10-18T12:49:06.186+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-18T12:49:06.276+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, password, role, username, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-18T12:49:06.286+03:00  INFO 9508 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : ✅ Admin user created: admin/admin123
2025-10-18T12:49:06.287+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-18T12:49:06.337+03:00 DEBUG 9508 --- [bank-rest] [main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, password, role, username, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-18T12:49:06.339+03:00  INFO 9508 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : ✅ User created: user1/user123
2025-10-18T12:49:06.339+03:00  INFO 9508 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : ✅ Test users created successfully
2025-10-18T12:49:06.339+03:00  INFO 9508 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : === Test Credentials ===
2025-10-18T12:49:06.339+03:00  INFO 9508 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : Admin: admin/admin123
2025-10-18T12:49:06.339+03:00  INFO 9508 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : User:  user1/user123
2025-10-18T12:49:06.339+03:00  INFO 9508 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : =========================
2025-10-18T12:51:12.565+03:00  INFO 9508 --- [bank-rest] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-18T12:51:12.566+03:00 DEBUG 9508 --- [bank-rest] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists audit_logs cascade 
2025-10-18T12:51:12.567+03:00 DEBUG 9508 --- [bank-rest] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists cards cascade 
2025-10-18T12:51:12.568+03:00 DEBUG 9508 --- [bank-rest] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists transactions cascade 
2025-10-18T12:51:12.568+03:00 DEBUG 9508 --- [bank-rest] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-10-18T12:51:12.569+03:00  INFO 9508 --- [bank-rest] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-18T12:51:12.570+03:00  INFO 9508 --- [bank-rest] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-18T12:52:17.996+03:00  INFO 18940 --- [bank-rest] [main] com.bank.BankApplication                 : Starting BankApplication using Java 17.0.12 with PID 18940 (C:\projects\bank-rest\target\classes started by User in C:\projects\bank-rest)
2025-10-18T12:52:17.997+03:00 DEBUG 18940 --- [bank-rest] [main] com.bank.BankApplication                 : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-18T12:52:17.997+03:00  INFO 18940 --- [bank-rest] [main] com.bank.BankApplication                 : The following 1 profile is active: "dev"
2025-10-18T12:52:18.415+03:00  INFO 18940 --- [bank-rest] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-18T12:52:18.447+03:00  INFO 18940 --- [bank-rest] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 4 JPA repository interfaces.
2025-10-18T12:52:18.831+03:00  INFO 18940 --- [bank-rest] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-18T12:52:18.836+03:00  INFO 18940 --- [bank-rest] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-18T12:52:18.836+03:00  INFO 18940 --- [bank-rest] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-18T12:52:18.866+03:00  INFO 18940 --- [bank-rest] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-18T12:52:18.867+03:00  INFO 18940 --- [bank-rest] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 851 ms
2025-10-18T12:52:18.934+03:00  WARN 18940 --- [bank-rest] [main] com.zaxxer.hikari.HikariConfig           : HikariPool-1 - idleTimeout is close to or more than maxLifetime, disabling it.
2025-10-18T12:52:18.934+03:00  INFO 18940 --- [bank-rest] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-18T12:52:19.025+03:00  INFO 18940 --- [bank-rest] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:bankdb user=SA
2025-10-18T12:52:19.026+03:00  INFO 18940 --- [bank-rest] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-18T12:52:19.031+03:00  INFO 18940 --- [bank-rest] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:bankdb'
2025-10-18T12:52:19.111+03:00  INFO 18940 --- [bank-rest] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-18T12:52:19.136+03:00  INFO 18940 --- [bank-rest] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-18T12:52:19.152+03:00  INFO 18940 --- [bank-rest] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-18T12:52:19.250+03:00  INFO 18940 --- [bank-rest] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-18T12:52:19.269+03:00  WARN 18940 --- [bank-rest] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-18T12:52:19.682+03:00  INFO 18940 --- [bank-rest] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-18T12:52:19.690+03:00 DEBUG 18940 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists audit_logs cascade 
2025-10-18T12:52:19.692+03:00 DEBUG 18940 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists cards cascade 
2025-10-18T12:52:19.693+03:00 DEBUG 18940 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists transactions cascade 
2025-10-18T12:52:19.693+03:00 DEBUG 18940 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-10-18T12:52:19.696+03:00 DEBUG 18940 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table audit_logs (
        success boolean not null,
        id bigint generated by default as identity,
        timestamp timestamp(6) not null,
        ip_address varchar(45),
        action_type varchar(50) not null,
        resource_id varchar(50),
        username varchar(100) not null,
        description varchar(500) not null,
        user_agent varchar(500),
        error_message varchar(1000),
        request_details varchar(1000),
        primary key (id)
    )
2025-10-18T12:52:19.700+03:00 DEBUG 18940 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table cards (
        balance numeric(15,2) not null,
        block_requested boolean,
        expiry_date date not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        user_id bigint not null,
        status varchar(20) not null check (status in ('ACTIVE','BLOCKED','EXPIRED')),
        card_holder varchar(100) not null,
        card_number varchar(255) not null,
        primary key (id)
    )
2025-10-18T12:52:19.703+03:00 DEBUG 18940 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table transactions (
        amount numeric(15,2) not null,
        from_card_id bigint,
        id bigint generated by default as identity,
        to_card_id bigint,
        transaction_date timestamp(6),
        status varchar(20) not null check (status in ('SUCCESS','FAILED','PENDING')),
        primary key (id)
    )
2025-10-18T12:52:19.704+03:00 DEBUG 18940 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table users (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        role varchar(20) not null check (role in ('ROLE_USER','ROLE_ADMIN')),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2025-10-18T12:52:19.706+03:00 DEBUG 18940 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists cards 
       add constraint FKcmanafgwbibfijy2o5isfk3d5 
       foreign key (user_id) 
       references users
2025-10-18T12:52:19.711+03:00 DEBUG 18940 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists transactions 
       add constraint FK2rjf7q3aokek0bc3817l80p77 
       foreign key (from_card_id) 
       references cards
2025-10-18T12:52:19.712+03:00 DEBUG 18940 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists transactions 
       add constraint FKrjipfg1tkqdhun7vvoe5m6rca 
       foreign key (to_card_id) 
       references cards
2025-10-18T12:52:19.714+03:00  INFO 18940 --- [bank-rest] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-18T12:52:19.847+03:00  INFO 18940 --- [bank-rest] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-18T12:52:20.148+03:00 DEBUG 18940 --- [bank-rest] [main] c.bank.security.JwtAuthenticationFilter  : Filter 'jwtAuthenticationFilter' configured for use
2025-10-18T12:52:20.534+03:00  WARN 18940 --- [bank-rest] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-18T12:52:20.775+03:00  INFO 18940 --- [bank-rest] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/actuator'
2025-10-18T12:52:21.096+03:00  INFO 18940 --- [bank-rest] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-10-18T12:52:21.098+03:00  INFO 18940 --- [bank-rest] [main] com.bank.BankApplication                 : Started BankApplication in 3.324 seconds (process running for 3.491)
2025-10-18T12:52:45.512+03:00  INFO 14904 --- [bank-rest] [main] com.bank.BankApplication                 : Starting BankApplication using Java 17.0.12 with PID 14904 (C:\projects\bank-rest\target\classes started by User in C:\projects\bank-rest)
2025-10-18T12:52:45.513+03:00 DEBUG 14904 --- [bank-rest] [main] com.bank.BankApplication                 : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-18T12:52:45.513+03:00  INFO 14904 --- [bank-rest] [main] com.bank.BankApplication                 : The following 1 profile is active: "local"
2025-10-18T12:52:45.932+03:00  INFO 14904 --- [bank-rest] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-18T12:52:45.963+03:00  INFO 14904 --- [bank-rest] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 4 JPA repository interfaces.
2025-10-18T12:52:46.351+03:00  INFO 14904 --- [bank-rest] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-18T12:52:46.356+03:00  INFO 14904 --- [bank-rest] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-18T12:52:46.356+03:00  INFO 14904 --- [bank-rest] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-18T12:52:46.386+03:00  INFO 14904 --- [bank-rest] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-18T12:52:46.386+03:00  INFO 14904 --- [bank-rest] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 854 ms
2025-10-18T12:52:46.453+03:00  INFO 14904 --- [bank-rest] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-18T12:52:46.545+03:00  INFO 14904 --- [bank-rest] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:bankdb user=SA
2025-10-18T12:52:46.546+03:00  INFO 14904 --- [bank-rest] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-18T12:52:46.551+03:00  INFO 14904 --- [bank-rest] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:bankdb'
2025-10-18T12:52:46.628+03:00  INFO 14904 --- [bank-rest] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-18T12:52:46.652+03:00  INFO 14904 --- [bank-rest] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-18T12:52:46.668+03:00  INFO 14904 --- [bank-rest] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-18T12:52:46.765+03:00  INFO 14904 --- [bank-rest] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-18T12:52:46.785+03:00  WARN 14904 --- [bank-rest] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-18T12:52:47.196+03:00  INFO 14904 --- [bank-rest] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-18T12:52:47.203+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists audit_logs cascade 
2025-10-18T12:52:47.205+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists cards cascade 
2025-10-18T12:52:47.205+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists transactions cascade 
2025-10-18T12:52:47.206+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-10-18T12:52:47.209+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table audit_logs (
        success boolean not null,
        id bigint generated by default as identity,
        timestamp timestamp(6) not null,
        ip_address varchar(45),
        action_type varchar(50) not null,
        resource_id varchar(50),
        username varchar(100) not null,
        description varchar(500) not null,
        user_agent varchar(500),
        error_message varchar(1000),
        request_details varchar(1000),
        primary key (id)
    )
2025-10-18T12:52:47.214+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table cards (
        balance numeric(15,2) not null,
        block_requested boolean,
        expiry_date date not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        user_id bigint not null,
        status varchar(20) not null check (status in ('ACTIVE','BLOCKED','EXPIRED')),
        card_holder varchar(100) not null,
        card_number varchar(255) not null,
        primary key (id)
    )
2025-10-18T12:52:47.217+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table transactions (
        amount numeric(15,2) not null,
        from_card_id bigint,
        id bigint generated by default as identity,
        to_card_id bigint,
        transaction_date timestamp(6),
        status varchar(20) not null check (status in ('SUCCESS','FAILED','PENDING')),
        primary key (id)
    )
2025-10-18T12:52:47.219+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table users (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        role varchar(20) not null check (role in ('ROLE_USER','ROLE_ADMIN')),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2025-10-18T12:52:47.220+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists cards 
       add constraint FKcmanafgwbibfijy2o5isfk3d5 
       foreign key (user_id) 
       references users
2025-10-18T12:52:47.225+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists transactions 
       add constraint FK2rjf7q3aokek0bc3817l80p77 
       foreign key (from_card_id) 
       references cards
2025-10-18T12:52:47.227+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists transactions 
       add constraint FKrjipfg1tkqdhun7vvoe5m6rca 
       foreign key (to_card_id) 
       references cards
2025-10-18T12:52:47.230+03:00  INFO 14904 --- [bank-rest] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-18T12:52:47.372+03:00  INFO 14904 --- [bank-rest] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-18T12:52:47.667+03:00 DEBUG 14904 --- [bank-rest] [main] c.bank.security.JwtAuthenticationFilter  : Filter 'jwtAuthenticationFilter' configured for use
2025-10-18T12:52:48.022+03:00  WARN 14904 --- [bank-rest] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-18T12:52:48.261+03:00  INFO 14904 --- [bank-rest] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-18T12:52:48.302+03:00  INFO 14904 --- [bank-rest] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@386b28b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@256a9a47, org.springframework.security.web.context.SecurityContextHolderFilter@37988190, org.springframework.security.web.header.HeaderWriterFilter@122d4458, org.springframework.web.filter.CorsFilter@6777bc90, org.springframework.security.web.authentication.logout.LogoutFilter@21612e76, com.bank.security.JwtAuthenticationFilter@784bea2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@596416c5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49d83712, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a843387, org.springframework.security.web.session.SessionManagementFilter@6d68257, org.springframework.security.web.access.ExceptionTranslationFilter@6b1a0a75, org.springframework.security.web.access.intercept.AuthorizationFilter@2b663a68]
2025-10-18T12:52:48.593+03:00  INFO 14904 --- [bank-rest] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-10-18T12:52:48.595+03:00  INFO 14904 --- [bank-rest] [main] com.bank.BankApplication                 : Started BankApplication in 3.302 seconds (process running for 3.468)
2025-10-18T12:52:48.596+03:00  INFO 14904 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : Creating test users...
2025-10-18T12:52:48.658+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-18T12:52:48.752+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, password, role, username, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-18T12:52:48.761+03:00  INFO 14904 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : ? Admin user created: admin/admin123
2025-10-18T12:52:48.762+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-18T12:52:48.816+03:00 DEBUG 14904 --- [bank-rest] [main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, password, role, username, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-18T12:52:48.817+03:00  INFO 14904 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : ? User created: user1/user123
2025-10-18T12:52:48.817+03:00  INFO 14904 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : ? Test users created successfully
2025-10-18T12:52:48.817+03:00  INFO 14904 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : === Test Credentials ===
2025-10-18T12:52:48.817+03:00  INFO 14904 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : Admin: admin/admin123
2025-10-18T12:52:48.817+03:00  INFO 14904 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : User:  user1/user123
2025-10-18T12:52:48.819+03:00  INFO 14904 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : =========================
2025-10-18T12:53:01.962+03:00  INFO 14904 --- [bank-rest] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-18T12:53:01.962+03:00  INFO 14904 --- [bank-rest] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-18T12:53:01.963+03:00  INFO 14904 --- [bank-rest] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-18T12:53:01.970+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui.html
2025-10-18T12:53:01.978+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:53:01.978+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:53:01.979+03:00  WARN 14904 --- [bank-rest] [http-nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/swagger-ui.html' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-18T12:53:01.985+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui.html
2025-10-18T12:53:02.012+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/index.html
2025-10-18T12:53:02.013+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:53:02.013+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:53:02.016+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/index.html
2025-10-18T12:53:02.026+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-ui-bundle.js
2025-10-18T12:53:02.026+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-ui.css
2025-10-18T12:53:02.026+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/index.css
2025-10-18T12:53:02.026+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:53:02.026+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:53:02.027+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:53:02.027+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:53:02.027+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:53:02.027+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:53:02.028+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/index.css
2025-10-18T12:53:02.028+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-ui-bundle.js
2025-10-18T12:53:02.028+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-ui.css
2025-10-18T12:53:02.075+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-10-18T12:53:02.075+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-initializer.js
2025-10-18T12:53:02.075+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:53:02.075+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:53:02.075+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:53:02.076+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:53:02.077+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-10-18T12:53:02.077+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-initializer.js
2025-10-18T12:53:02.179+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /v3/api-docs/swagger-config
2025-10-18T12:53:02.180+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:53:02.180+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:53:02.181+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /v3/api-docs/swagger-config
2025-10-18T12:53:02.196+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /v3/api-docs
2025-10-18T12:53:02.197+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:53:02.197+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:53:02.199+03:00 DEBUG 14904 --- [bank-rest] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /v3/api-docs
2025-10-18T12:53:02.391+03:00  INFO 14904 --- [bank-rest] [http-nio-8080-exec-9] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 186 ms
2025-10-18T12:57:41.325+03:00  INFO 6624 --- [bank-rest] [main] com.bank.BankApplication                 : Starting BankApplication using Java 23.0.2 with PID 6624 (C:\projects\bank-rest\target\classes started by User in C:\projects\bank-rest)
2025-10-18T12:57:41.325+03:00 DEBUG 6624 --- [bank-rest] [main] com.bank.BankApplication                 : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-18T12:57:41.326+03:00  INFO 6624 --- [bank-rest] [main] com.bank.BankApplication                 : The following 1 profile is active: "local"
2025-10-18T12:57:41.948+03:00  INFO 6624 --- [bank-rest] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-10-18T12:57:41.988+03:00  INFO 6624 --- [bank-rest] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 4 JPA repository interfaces.
2025-10-18T12:57:42.602+03:00  INFO 6624 --- [bank-rest] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-18T12:57:42.609+03:00  INFO 6624 --- [bank-rest] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-18T12:57:42.609+03:00  INFO 6624 --- [bank-rest] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-18T12:57:42.647+03:00  INFO 6624 --- [bank-rest] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-18T12:57:42.647+03:00  INFO 6624 --- [bank-rest] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1294 ms
2025-10-18T12:57:42.753+03:00  INFO 6624 --- [bank-rest] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-18T12:57:42.904+03:00  INFO 6624 --- [bank-rest] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:bankdb user=SA
2025-10-18T12:57:42.906+03:00  INFO 6624 --- [bank-rest] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-18T12:57:42.917+03:00  INFO 6624 --- [bank-rest] [main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:bankdb'
2025-10-18T12:57:43.084+03:00  INFO 6624 --- [bank-rest] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-10-18T12:57:43.124+03:00  INFO 6624 --- [bank-rest] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2025-10-18T12:57:43.146+03:00  INFO 6624 --- [bank-rest] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-10-18T12:57:43.266+03:00  INFO 6624 --- [bank-rest] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-10-18T12:57:43.288+03:00  WARN 6624 --- [bank-rest] [main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-18T12:57:43.759+03:00  INFO 6624 --- [bank-rest] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-10-18T12:57:43.767+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists audit_logs cascade 
2025-10-18T12:57:43.769+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists cards cascade 
2025-10-18T12:57:43.769+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists transactions cascade 
2025-10-18T12:57:43.769+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-10-18T12:57:43.771+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table audit_logs (
        success boolean not null,
        id bigint generated by default as identity,
        timestamp timestamp(6) not null,
        ip_address varchar(45),
        action_type varchar(50) not null,
        resource_id varchar(50),
        username varchar(100) not null,
        description varchar(500) not null,
        user_agent varchar(500),
        error_message varchar(1000),
        request_details varchar(1000),
        primary key (id)
    )
2025-10-18T12:57:43.775+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table cards (
        balance numeric(15,2) not null,
        block_requested boolean,
        expiry_date date not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        user_id bigint not null,
        status varchar(20) not null check (status in ('ACTIVE','BLOCKED','EXPIRED')),
        card_holder varchar(100) not null,
        card_number varchar(255) not null,
        primary key (id)
    )
2025-10-18T12:57:43.777+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table transactions (
        amount numeric(15,2) not null,
        from_card_id bigint,
        id bigint generated by default as identity,
        to_card_id bigint,
        transaction_date timestamp(6),
        status varchar(20) not null check (status in ('SUCCESS','FAILED','PENDING')),
        primary key (id)
    )
2025-10-18T12:57:43.778+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    create table users (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        role varchar(20) not null check (role in ('ROLE_USER','ROLE_ADMIN')),
        username varchar(50) not null unique,
        email varchar(100) not null unique,
        password varchar(255) not null,
        primary key (id)
    )
2025-10-18T12:57:43.780+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists cards 
       add constraint FKcmanafgwbibfijy2o5isfk3d5 
       foreign key (user_id) 
       references users
2025-10-18T12:57:43.784+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists transactions 
       add constraint FK2rjf7q3aokek0bc3817l80p77 
       foreign key (from_card_id) 
       references cards
2025-10-18T12:57:43.784+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    alter table if exists transactions 
       add constraint FKrjipfg1tkqdhun7vvoe5m6rca 
       foreign key (to_card_id) 
       references cards
2025-10-18T12:57:43.786+03:00  INFO 6624 --- [bank-rest] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-10-18T12:57:44.006+03:00  INFO 6624 --- [bank-rest] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-10-18T12:57:44.457+03:00 DEBUG 6624 --- [bank-rest] [main] c.bank.security.JwtAuthenticationFilter  : Filter 'jwtAuthenticationFilter' configured for use
2025-10-18T12:57:44.983+03:00  WARN 6624 --- [bank-rest] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-18T12:57:45.287+03:00  INFO 6624 --- [bank-rest] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-18T12:57:45.322+03:00  INFO 6624 --- [bank-rest] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@47161ae4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71377123, org.springframework.security.web.context.SecurityContextHolderFilter@7de9d7c7, org.springframework.security.web.header.HeaderWriterFilter@26d60427, org.springframework.web.filter.CorsFilter@5eee2617, org.springframework.security.web.authentication.logout.LogoutFilter@245ece8d, com.bank.security.JwtAuthenticationFilter@63cb06df, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6331b2d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a930ec6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bd851b4, org.springframework.security.web.session.SessionManagementFilter@58735597, org.springframework.security.web.access.ExceptionTranslationFilter@38979c5f, org.springframework.security.web.access.intercept.AuthorizationFilter@7103ba38]
2025-10-18T12:57:45.582+03:00  INFO 6624 --- [bank-rest] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-10-18T12:57:45.583+03:00  INFO 6624 --- [bank-rest] [main] com.bank.BankApplication                 : Started BankApplication in 4.55 seconds (process running for 4.783)
2025-10-18T12:57:45.584+03:00  INFO 6624 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : Creating test users...
2025-10-18T12:57:45.660+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-18T12:57:45.750+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, password, role, username, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-18T12:57:45.759+03:00  INFO 6624 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : ✅ Admin user created: admin/admin123
2025-10-18T12:57:45.760+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2025-10-18T12:57:45.809+03:00 DEBUG 6624 --- [bank-rest] [main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, password, role, username, id) 
    values
        (?, ?, ?, ?, ?, default)
2025-10-18T12:57:45.810+03:00  INFO 6624 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : ✅ User created: user1/user123
2025-10-18T12:57:45.810+03:00  INFO 6624 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : ✅ Test users created successfully
2025-10-18T12:57:45.810+03:00  INFO 6624 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : === Test Credentials ===
2025-10-18T12:57:45.810+03:00  INFO 6624 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : Admin: admin/admin123
2025-10-18T12:57:45.810+03:00  INFO 6624 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : User:  user1/user123
2025-10-18T12:57:45.810+03:00  INFO 6624 --- [bank-rest] [main] com.bank.config.SimpleDataInitializer    : =========================
2025-10-18T12:57:49.374+03:00  INFO 6624 --- [bank-rest] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-18T12:57:49.374+03:00  INFO 6624 --- [bank-rest] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-18T12:57:49.376+03:00  INFO 6624 --- [bank-rest] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-10-18T12:57:49.383+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /
2025-10-18T12:57:49.390+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:57:49.390+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:57:49.391+03:00  WARN 6624 --- [bank-rest] [http-nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-18T12:57:49.618+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-10-18T12:57:49.618+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:57:49.619+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:57:58.628+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui.html
2025-10-18T12:57:58.629+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:57:58.629+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:57:58.632+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui.html
2025-10-18T12:57:58.660+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/index.html
2025-10-18T12:57:58.660+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:57:58.660+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:57:58.661+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/index.html
2025-10-18T12:57:58.680+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/index.css
2025-10-18T12:57:58.680+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-ui.css
2025-10-18T12:57:58.680+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-ui-bundle.js
2025-10-18T12:57:58.680+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:57:58.680+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-initializer.js
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-ui.css
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-initializer.js
2025-10-18T12:57:58.681+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/index.css
2025-10-18T12:57:58.682+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /swagger-ui/swagger-ui-bundle.js
2025-10-18T12:57:58.912+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /v3/api-docs/swagger-config
2025-10-18T12:57:58.912+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:57:58.913+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:57:58.913+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /v3/api-docs/swagger-config
2025-10-18T12:57:58.930+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /v3/api-docs
2025-10-18T12:57:58.930+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:57:58.930+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:57:58.931+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /v3/api-docs
2025-10-18T12:57:59.180+03:00  INFO 6624 --- [bank-rest] [http-nio-8080-exec-1] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 242 ms
2025-10-18T12:58:01.498+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /h2-console
2025-10-18T12:58:01.498+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:58:01.498+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:58:01.498+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /h2-console
2025-10-18T12:58:01.502+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/
2025-10-18T12:58:01.502+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:58:01.502+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:58:01.502+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/
2025-10-18T12:58:01.522+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/stylesheet.css
2025-10-18T12:58:01.522+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:58:01.522+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:58:01.523+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/stylesheet.css
2025-10-18T12:58:01.575+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/login.jsp?jsessionid=325b19d1e5f239bb8963b48a9b1b1d19
2025-10-18T12:58:01.575+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:58:01.575+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:58:01.575+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/login.jsp?jsessionid=325b19d1e5f239bb8963b48a9b1b1d19
2025-10-18T12:58:01.597+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /h2-console/background.gif
2025-10-18T12:58:01.598+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:58:01.598+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:58:01.598+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /h2-console/background.gif
2025-10-18T12:58:01.722+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-10-18T12:58:01.723+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:58:01.723+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:58:03.708+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /actuator/health
2025-10-18T12:58:03.708+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:58:03.708+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:58:03.709+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /actuator/health
2025-10-18T12:58:03.890+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /favicon.ico
2025-10-18T12:58:03.890+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-10-18T12:58:03.890+03:00 DEBUG 6624 --- [bank-rest] [http-nio-8080-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 08FB22B21DDD07016106AB8CBBCC3E0E
2025-10-18T12:58:31.160+03:00  INFO 6624 --- [bank-rest] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-10-18T12:58:31.160+03:00 DEBUG 6624 --- [bank-rest] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists audit_logs cascade 
2025-10-18T12:58:31.161+03:00 DEBUG 6624 --- [bank-rest] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists cards cascade 
2025-10-18T12:58:31.162+03:00 DEBUG 6624 --- [bank-rest] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists transactions cascade 
2025-10-18T12:58:31.162+03:00 DEBUG 6624 --- [bank-rest] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-10-18T12:58:31.164+03:00  INFO 6624 --- [bank-rest] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-18T12:58:31.166+03:00  INFO 6624 --- [bank-rest] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
